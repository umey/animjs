(function(m){var f=function(a,b,g){this.p0=a;this.p1=b;this.p2=g},c=f.prototype;f.name="QBezier";c.p0=null;c.p1=null;c.p2=null;c.getDistance=function(){var a=this.getAt(0.5),b=this._distance(this.p0,a);return b+=this._distance(this.p2,a)};c.getAt=function(a){if(0>=a)return this.p0.clone();if(1<=a)return this.p2.clone();var b=1-a;return new Point(b*b*this.p0.x+2*b*a*this.p1.x+a*a*this.p2.x,b*b*this.p0.y+2*b*a*this.p1.y+a*a*this.p2.y)};c._distance=function(a,b){var g=b.x-a.x,d=b.y-a.y;return Math.sqrt(g*
g+d*d)};m.QBezier=f})(window);
(function(m){var f=function(a,b){this.pointList=[a||0,b||0];this.length=0;this.time=1E3;this._timeTable=[];this.totalDist=0;this._dirty=!1;this.color=10066329;this.loop=!0},c=f.prototype;f.name="Path";f.BLOCK_COUNT=4;c._dirty=!0;c.pointList=null;c.length=0;c.time=0;c._timeTable=null;c.totalDist=0;c.color=0;c.loop=!0;c.push=function(a,b,g,d){this.pointList.push(a,b,g,d);this.length++;a=this._getQBAt(this.length-1).getDistance();this.totalDist+=a;this._timeTable.push({time:0,dist:a});this._dirty=!0;
return this};c._calc=function(){for(var a=this._timeTable,b=this.totalDist,g=this.time,d={time:0},e=0;e<a.length-1;e++)a[e].time=d.time+g*a[e].dist/b,d=a[e];a[e].time=g;this._dirty=!1};c.getAt=function(a){!0===this.loop?a=(this.time+a)%(this.time+1):(0>a&&(a=0),a>this.time&&(a=this.time));this._dirty&&this._calc();for(var b=this._timeTable,g,d,e,c=0,h=b.length-1;c<=h&&!(g=(c+h)/2|0,e=b[g],d=0===g?0:b[g-1].time,a>=d&&a<=e.time);)g=e.time<a?c=g+1:h=g-1;d=b[g-1]||{time:0};b=this._getQBAt(g);a=(a-d.time)/
(e.time-d.time);e=b.getAt(a);d={};d.x=e.x;d.y=e.y;d.t=a;d.qb=b;d.p0=e;d.ttIndex=g;return d};c.drawPath=function(a,b){var g,d=this.pointList;if(a instanceof Shape){var e=a.graphics;e.clear();e.moveTo(d[0],d[1]);e.s(b||"#"+("000000"+(this.color|0).toString(16)).substr(-6));for(g=2;g<d.length-2;g+=f.BLOCK_COUNT)e.curveTo(d[g],d[g+1],d[g+2],d[g+3]);e.f()}else{e=a.getContext("2d");e.strokeStyle=b||"#"+("000000"+(this.color|0).toString(16)).substr(-6);e.lineWidth=1;e.beginPath();e.moveTo(d[0],d[1]);for(g=
2;g<d.length;g+=f.BLOCK_COUNT)e.quadraticCurveTo(d[g],d[g+1],d[g+2],d[g+3]);e.stroke()}return a};c.curveTo=function(a,b,g,d){return this.push(a,b,g,d)};c.qt=function(a,b,g,d){return this.curveTo(a,b,g,d)};c.lineTo=function(a,b){var g=this.pointList;return this.push((g[g.length-2]+a)/2,(g[g.length-1]+b)/2,a,b)};c.lt=function(a,b){return this.lineTo(a,b)};c.moveTo=function(a,b){1>this.length?(f.constructor.call(this,this.time),this.pointList=[a,b]):this.lineTo(a,b);return this};c.mt=function(a,b){return this.moveTo(a,
b)};c.beginStroke=function(a){"number"==typeof a?this.color=a:"string"==typeof a&&(this.color=parseInt("0x"+a.substr(-6)));return this};c.s=function(a){return this.beginStroke(a)};c._getQBAt=function(a){var b=this.pointList,a=a*f.BLOCK_COUNT;return new QBezier(new Point(b[a],b[a+1]),new Point(b[a+2],b[a+3]),new Point(b[a+4],b[a+5]))};m.Path=f})(window);
(function(m){var f=function(){f.__super__.constructor.apply(this,[0,0])};f.__super__=Path.prototype;var c=f.prototype=new Path;f.name="MorphPath";c._interpolate=function(a,b,g){var d=b.x-a.x,e=b.y-a.y;0===d?(b=a.x,a=a.y+e*g):(b=a.x+d*g,a=a.y+d*g*(e/d));return new Point((10*b|0)/10,(10*a|0)/10)};c.getRect=function(){var a,b,g,d,e,c,h,f,i,j=this.pointList;a=d=j[1];g=b=j[0];for(var l=0;l<j.length-2;l+=Path.BLOCK_COUNT)h=j[l],f=j[l+2],i=j[l+4],g=Math.max(g,h,i),b=Math.min(b,h,i),e=(h-f)/(i-2*f+h),0<=
e&&1>=e&&(c=1-e,e=c*c*h+2*c*e*f+e*e*i,b>e?b=e:e>g&&(g=e));for(l=0;l<j.length-2;l+=Path.BLOCK_COUNT)h=j[l+1],f=j[l+3],i=j[l+5],d=Math.max(d,h,i),a=Math.min(a,h,i),e=(h-f)/(i-2*f+h),0<=e&&1>=e&&(c=1-e,e=c*c*h+2*c*e*f+e*e*i,a>e?a=e:d<e&&(d=e));return{top:a,left:b,width:g-b,height:d-a}};c.translate=function(a,b){for(var g=this.pointList,d=0;d<g.length;d+=2)g[d]-=a,g[d+1]-=b};c.calculate=function(){(this._dirty=!0)&&this._calc()};c.splitAt=function(a){if(!(0===a||a==this.time)){var b=this.getAt(a),g=b.t,
d=b.qb,e=d.getAt(g),c=this._interpolate(d.p0,d.p1,g),d=this._interpolate(d.p1,d.p2,g),b=b.ttIndex,f=2+Path.BLOCK_COUNT*b;this.length++;this.pointList.splice(f,2,c.x,c.y,e.x,e.y,d.x,d.y);e=this._timeTable[b];c=e.dist;e.dist*=1-g;this._timeTable.splice(b,0,{time:a,dist:c-e.dist})}};c.sortByPoint=function(a,b,g,d){this.calculate();var e=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)},c=this.pointList,f=this._timeTable,k=c.length;c.splice(k-2,2);var k=k-2,i=f[f.length-1];this.totalDist-=i.dist;
i.dist=(new QBezier(new Point(c[0],c[1]),new Point(c[k-2],c[k-1]),new Point(c[k-4],c[k-3]))).getDistance();this.totalDist+=i.dist;for(var j=0,l=e(a,b,c[0],c[1]),m,i=4;i<c.length;i+=Path.BLOCK_COUNT)m=e(a,b,c[i],c[i+1]),m<l&&(l=m,j=i);a=j/4;b=1;i=e(g,d,c[j+4],c[j+5]);if((0>j-4?e(g,d,c[c.length-6],c[c.length-5]):e(g,d,c[j-4],c[j-3]))<i)b=-1;c.splice(j,0,c[j],c[j+1]);k+=2;g=[];d=j+2*((b+1)/2);for(i=0;i<k;i+=2)g.push(c[d],c[d+1]),d+=k+2*b,d%=k;this.pointList=g;c=[];k=f.length;d=(k+a+(b-1)/2)%k;for(i=
0;i<k;i++)c.push(f[d]),d+=k+b,d%=k;this._timeTable=c;this._calc()};c.beginFill=function(a){return this.beginStroke(a)};c.f=function(a){return this.beginStroke(a)};c.read=function(a){this.moveTo(a[0],a[1]);for(var b=2;b<a.length-2;b+=Path.BLOCK_COUNT)this.push(a[b],a[b+1],a[b+2],a[b+3])};m.MorphPath=f})(window);
(function(m){var f=function(){c.initialize.apply(this,arguments);this.data=[];this.loop=this.useTicks=!0;this.timeline=new Timeline(null,null,{useTicks:!0,paused:!0});this.b=this.g=this.r=255;this.endRect=this.startRect=null;this.time=0},c=f.prototype=new Shape;f.name="MorphShape";c.data=null;c.useTicks=!0;c.loop=!0;c.timeline=null;c.r=0;c.g=0;c.b=0;c.onCompTick=null;c.startRect=null;c.endRect=null;c.time=0;c.gotoAndStop=function(a){this.timeline.gotoAndStop(a)};c.gotoAndPlay=function(a){this.timeline.gotoAndPlay(a)};
c.getTweenObj=function(a,b){var c={};c[a]=b;return c};c.onTick=function(a){var b=this.graphics,c=this.data;b.clear();b.moveTo(c[0],c[1]);this.color=this.r<<16|0|this.g<<8|0|this.b|0;b.f("#"+("000000"+this.color.toString(16)).substr(-6));for(var d=2;d<c.length-2;d+=4)b.curveTo(c[d],c[d+1],c[d+2],c[d+3]);b.f();null!==this.onCompTick&&this.onCompTick.call(this,a)};c.dispose=function(){for(this.timeline.setPaused=!0;0<this.timeline._tweens.length;)this.timeline.removeTween(this.timeline._tweens[0])};
m.MorphShape=f})(window);
(function(m){var f=function(){},c=f.prototype;f.name="MorphShapeBuilder";c.build=function(a,b,c,d){var e=new MorphShape;a.calculate();b.calculate();var f,h,k;a.pointList.length>b.pointList.length?(f=b,h=a):(f=a,h=b);k=f._timeTable;h=h._timeTable;var i=h.length-k.length,j,l;for(j=l=0;0<i;){for(var m=k[j],n=h[l];n.time<m.time&&0<i;)f.splitAt(n.time),l++,n=h[l],i--;j++}for(f=0;f<a.pointList.length;f++)e.data.push(a.pointList[f]),e.timeline.addTween(Tween.get(e.data).to(e.getTweenObj(f,b.pointList[f]),
c,d));e.r=a.color>>16&255;e.g=a.color>>8&255;e.b=a.color&255;e.timeline.addTween(Tween.get(e)).to({r:b.color>>16&255},c,d);e.timeline.addTween(Tween.get(e)).to({g:b.color>>8&255},c,d);e.timeline.addTween(Tween.get(e)).to({b:b.color&255},c,d);e.startRect=a.getRect();e.endRect=b.getRect();e.time=c;return e};m.MorphShapeBuilder=f})(window);
(function(m){var f=function(){},c=f.prototype;f.name="Freezer";c.freezeMotionPath=function(a,b,c,d){var d=d||null,e=[];a.setTime(b);for(var f=0;f<b;f+=c){var h=a.getAt(f);!0===d&&(h.x=h.x+0.5|0,h.y=h.y+0.5|0);e.push({x:h.x,y:h.y,rotation:h.rotation||null})}h=a.getAt(b);e.push({x:!0===d?h.x+0.5|0:h.x,y:!0===d?h.y+0.5|0:h.y,rotation:h.rotation||null});return new FreezedMotionPath(e,b,c)};c.freezeMorphShape=function(a,b,c){function d(a,b,c,d,e,f){l.fillStyle="#"+("000000"+(b<<16|0|c<<8|0|d|0).toString(16)).substr(-6);
l.beginPath();l.moveTo(p+a[0]-e,n+a[1]-f);for(b=2;b<a.length;b+=Path.BLOCK_COUNT)l.quadraticCurveTo(p+a[b]-e,n+a[b+1]-f,p+a[b+2]-e,n+a[b+3]-f);l.fill()}var e=a.startRect,f=a.endRect,h=Math.min(e.top,f.top),k=Math.min(e.left,f.left),i=Math.max(e.height,f.height),e=Math.max(e.width,f.width),h=h|0,k=k|0,e=0<e%1?e:e+1|0,i=0<i%1?i:i+1|0,b=a.time/c/b|0,c=(a.time/b|0)-2,f=function(a,b,c){for(var d=Math.max(a,b),a=Math.min(a,b),e=b=1,f=1;b<c;)(f+1)*a<=(e+1)*d?f++:e++,b=f*e;return Math.max(f*a,e*d)}(e,i,c+
2),j=m.document.createElement("canvas");j.width=j.height=f;var l=j.getContext("2d"),p=0,n=0,r=f/e|0,q=1;a.gotoAndStop(0);d(a.data,a.r,a.g,a.b,k,h);for(var o=1;o<c;o++)p=o*e%f,n=i*(q/r|0),a.gotoAndStop(o*b),d(a.data,a.r,a.g,a.b,k,h),q++;p=o*e%f;n=i*(q/r|0);a.gotoAndStop(a.time);d(a.data,a.r,a.g,a.b,k,h);return new BitmapAnimation(new SpriteSheet({images:[j.toDataURL()],frames:{width:e,height:i,numFrames:c+2}}))};m.Freezer=f})(window);
(function(m){var f=function(a,b){f.__super__.constructor.apply(this,[0,0]);this.time=a||1E3;this.rotationStyle=void 0===b||null===b?f.NONE:b;this._target=null;this._rFuncList=[this._atan,this._atan2]},c=f.prototype=new Path;f.__super__=Path.prototype;f.name="MotionPath";f.NONE=-1;f.POI_FLASH=0;f.FORWARD=1;f.get=function(a,b,c){b=new f(b,c);b.setTarget(a);return b};c._target=null;c._rFuncList=null;c.rotationStyle=0;c._atan2=function(a,b,c,d){return 180*Math.atan2(d-b,c-a)/Math.PI};c._atan=function(a,
b,c,d){return 180*Math.atan((d-b)/(c-a-0.001))/Math.PI};c.getAt=function(a){var b=f.__super__.getAt.call(this,a),c=b.t,a=b.qb,d=b.p0,e;null===this._target?e={x:b.x,y:b.y}:(e=this._target,e.x=b.x,e.y=b.y);this.rotationStyle!==f.NONE&&(c+=0.001,1<c?(b=d,d=a.getAt(0.9999)):b=a.getAt(c),e.rotation=this._rFuncList[this.rotationStyle].call(this,d.x,d.y,b.x,b.y));return e};c.setTarget=function(a){this._target=a};c.setTime=function(a){this.time=a;this._dirty=!0;return this};m.MotionPath=f})(window);
(function(m){var f=function(a,b,c){this.data=a;this.time=b;this.sampling=c;this.loop=!0},c=f.prototype;f.name="FreezedMotionPath";c.data=null;c.time=0;c.sampling=0;c.loop=!0;c.getAt=function(a){!0===this.loop&&(a=(a+this.time+1)%this.time);return this.data[a>=this.time?this.data.length-1:a/this.sampling|0]};m.FreezedMotionPath=f})(window);